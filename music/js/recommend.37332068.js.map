{"version":3,"sources":["webpack:///./src/api/recommend.js","webpack:///./src/components/recommend/recommend.vue?b320","webpack:///./src/base/slider/slider.vue?8967","webpack:///src/base/slider/slider.vue","webpack:///./src/base/slider/slider.vue?c9fc","webpack:///./src/base/slider/slider.vue","webpack:///src/components/recommend/recommend.vue","webpack:///./src/components/recommend/recommend.vue?9d8a","webpack:///./src/components/recommend/recommend.vue","webpack:///./src/base/slider/slider.vue?e546","webpack:///./src/components/recommend/recommend.vue?8138"],"names":["getRecommend","url","data","Object","assign","commonParams","platform","uin","needNewCode","jsonp","options","getDiscList","RESFULURL","hostUin","sin","ein","sortId","categoryId","rnd","Math","random","format","axios","get","params","then","res","Promise","resolve","getSongList","disstid","type","json","utf8","onlysong","render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","discList","recommends","_l","item","key","id","href","linkUrl","src","picUrl","alt","on","load","loadImage","_e","_v","index","click","$event","selectItem","directives","name","rawName","value","expression","width","height","domProps","innerHTML","_s","creator","dissname","length","title","staticRenderFns","slidervue_type_template_id_3dc6b27d_scoped_true_render","_t","class","active","currentPageIndex","slidervue_type_template_id_3dc6b27d_scoped_true_staticRenderFns","slidervue_type_script_lang_js_","props","loop","Boolean","default","autoPlay","interval","Number","dots","mounted","_this","setTimeout","_setSliderWidth","_initDots","_initSlider","_play","window","addEventListener","slider","refresh","methods","isResize","children","$refs","sliderGroup","sliderWidth","clientWidth","i","child","dom","style","_this2","bscroll_esm","scrollX","scrollY","momentum","snap","threshold","pageIndex","getCurrentPage","pageX","clearTimeout","timer","Array","_this3","next","activated","deactivated","beforeDestroy","slider_slidervue_type_script_lang_js_","component","componentNormalizer","__file","recommendvue_type_script_lang_js_","components","Slider","Scroll","scroll_scroll","Loading","loading","mixins","mixin","created","_getRecommend","_getDiscList","objectSpread","handlePlaylist","playlist","bottom","recommend","scroll","code","config","list","err","console","log","checkloaded","$router","push","path","concat","dissid","setDisc","vuex_esm","recommend_recommendvue_type_script_lang_js_","recommend_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_slider_vue_vue_type_style_index_0_id_3dc6b27d_scoped_true_lang_stylus_rel_stylesheet_2Fstylus___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_slider_vue_vue_type_style_index_0_id_3dc6b27d_scoped_true_lang_stylus_rel_stylesheet_2Fstylus___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_recommend_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_recommend_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/recommend.37332068.js","sourcesContent":["import jsonp from '@/common/js/jsonp'\r\nimport {commonParams, options, options1, RESFULURL} from './config'\r\nimport axios from 'axios'\r\n\r\n// 获取推荐banner图数据\r\nexport function getRecommend() {\r\n  const url = 'https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    platform: 'h5',\r\n    uin: 0,\r\n    needNewCode: 1\r\n  })\r\n\r\n  return jsonp(url, data, options)\r\n}\r\n\r\nexport function getDiscList() {  // 获取推荐热门歌单数据 \r\n  let url = RESFULURL + 'getDiscList';\r\n  const data = Object.assign({}, commonParams, {\r\n    platform: 'yqq',\r\n    hostUin: 0,\r\n    sin: 0,\r\n    ein: 29,\r\n    sortId: 5,\r\n    needNewCode: 0,\r\n    categoryId: 10000000,\r\n    rnd: Math.random(),\r\n    format: 'json'\r\n  })\r\n\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data)\r\n  })\r\n}\r\n\r\n//获取歌曲列表（由推荐页热门歌单列表点击进去的歌曲数据）\r\nexport function getSongList(disstid) {\r\n  let url = RESFULURL + 'getSongList';\r\n  const data = Object.assign({}, commonParams, {\r\n    disstid,\r\n    type: 1,\r\n    json: 1,\r\n    utf8: 1,\r\n    onlysong: 0,\r\n    platform: 'yqq',\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    format: 'json'\r\n  })\r\n  return axios.get(url, {\r\n    params: data\r\n  }).then((res) => {\r\n    return Promise.resolve(res.data)\r\n  })\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"recommend\",staticClass:\"recommend\"},[_c('scroll',{ref:\"scroll\",staticClass:\"recommend-content\",attrs:{\"data\":_vm.discList}},[_c('div',[(_vm.recommends.length)?_c('div',{staticClass:\"silder-wrapper\"},[_c('slider',_vm._l((_vm.recommends),function(item){return _c('div',{key:item.id},[_c('a',{attrs:{\"href\":item.linkUrl}},[_c('img',{attrs:{\"src\":item.picUrl,\"alt\":\"\"},on:{\"load\":_vm.loadImage}})])])}))],1):_vm._e(),_c('div',{staticClass:\"recommend-list\"},[_c('h1',{staticClass:\"list-title\"},[_vm._v(\"热门歌单推荐\")]),_c('ul',_vm._l((_vm.discList),function(item,index){return _c('li',{key:index,staticClass:\"item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('div',{staticClass:\"icon\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.imgurl),expression:\"item.imgurl\"}],attrs:{\"width\":\"60\",\"height\":\"60\"}})]),_c('div',{staticClass:\"text\"},[_c('h2',{staticClass:\"name\",domProps:{\"innerHTML\":_vm._s(item.creator.name)}}),_c('p',{staticClass:\"desc\",domProps:{\"innerHTML\":_vm._s(item.dissname)}})])])}))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.discList.length),expression:\"!discList.length\"}],staticClass:\"loading-container\"},[_c('loading',{attrs:{\"title\":\"玩命加载中...\"}})],1)]),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"slider\",staticClass:\"slider\"},[_c('div',{ref:\"sliderGroup\",staticClass:\"slider-group\"},[_vm._t(\"default\")],2),_c('div',{staticClass:\"dots\"},_vm._l((_vm.dots),function(item,index){return _c('span',{key:index,staticClass:\"dot\",class:{active: _vm.currentPageIndex === index }})}))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"slider\" ref=\"slider\">\r\n    <div class=\"slider-group\" ref=\"sliderGroup\">\r\n      <slot> <!-- 插槽，外部引用slider组件的地方就会被插入到此处 -->\r\n      </slot>\r\n    </div>\r\n    <div class=\"dots\">\r\n      <span class=\"dot\" :key=\"index\" :class=\"{active: currentPageIndex === index }\" v-for=\"(item, index) in dots\"></span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import {addClass} from '@/common/js/dom'\r\n  import BScroll from 'better-scroll'\r\n\r\n  export default {\r\n    name: 'slider',\r\n    props: {\r\n      loop: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      autoPlay: {\r\n        type: Boolean,\r\n        default: true\r\n      },\r\n      interval: {\r\n        type: Number,\r\n        default: 3000\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        dots: [],\r\n        currentPageIndex: 0,\r\n      }\r\n    },\r\n    mounted() {\r\n      setTimeout(() => {\r\n        this._setSliderWidth()\r\n        this._initDots()\r\n        this._initSlider()\r\n        if (this.autoPlay) this._play()\r\n      }, 20)  // 延时保障dom渲染完成，浏览器刷新通常是17毫秒一次，这里也可以用this.$nextTick\r\n\r\n      window.addEventListener('resize', () => {\r\n        if (this.slider) {\r\n          this._setSliderWidth(true);\r\n          this.slider.refresh();\r\n        }\r\n      })\r\n    },\r\n    methods: {\r\n      _setSliderWidth(isResize) {\r\n        this.children = this.$refs.sliderGroup.children\r\n        let sliderWidth = this.$refs.slider.clientWidth\r\n        let width = 0\r\n        for (let i=0; i<this.children.length; i++) {\r\n          let child = this.children[i];\r\n          addClass(child, 'slider-item');\r\n          child.style.width = sliderWidth + 'px';\r\n          width += sliderWidth\r\n        }\r\n        // 如果resize变化，slider已经clone过了，故不用再加2倍sliderWidth了\r\n        if (this.loop && !isResize) width += 2 * sliderWidth\r\n        // 如果是循环切换并且没有重新改变窗口大小 （在初始化BScroll时会克隆两个dom，故得加上 2 * sliderWidth ）\r\n        this.$refs.sliderGroup.style.width = width + 'px'\r\n      },\r\n      _initSlider() {   // 初始化slider\r\n        this.slider = new BScroll(this.$refs.slider, {\r\n          scrollX: true,\r\n          scrollY: false,\r\n          momentum: false,\r\n          snap: {\r\n            loop: true,\r\n            threshold: 0.3,\r\n          },\r\n        })\r\n        this.slider.on('scrollEnd', () => {\r\n          let pageIndex = this.slider.getCurrentPage().pageX\r\n          this.currentPageIndex = pageIndex\r\n          if (this.autoPlay) {\r\n            clearTimeout(this.timer);\r\n            this._play()\r\n          }\r\n        })\r\n        this.slider.on('beforeScrollStart', () => { //(此事件经测试只有手动切换图片时才会触发)每次自动轮播前清除下定时器，防止手动切换跟自动切换冲突产生bug           \r\n          if (this.autoPlay) clearTimeout(this.timer)\r\n        })\r\n\r\n      },\r\n      _initDots() {\r\n        this.dots = new Array(this.children.length)\r\n      },\r\n      _play() {\r\n        let pageIndex = this.currentPageIndex + 1;\r\n        this.timer = setTimeout(() => {\r\n          this.slider.next();\r\n        }, this.interval)\r\n      }\r\n    },\r\n    activated() { // keep-alive 组件激活时调用。\r\n      if (this.autoPlay) this._play()\r\n    },\r\n    deactivated() {  // keep-alive 组件停用时调用,该钩子在服务器端渲染期间不被调用\r\n      clearTimeout(this.timer)\r\n    },\r\n    beforeDestroy() {\r\n      clearTimeout(this.timer)\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n  @import \"~@/common/stylus/variable\"\r\n\r\n  .slider\r\n    position:relative\r\n    min-height: 1px\r\n    .slider-group\r\n      position: relative\r\n      overflow: hidden\r\n      white-space: nowrap\r\n      .slider-item\r\n        float: left\r\n        box-sizing: border-box\r\n        overflow: hidden\r\n        text-align: center\r\n        a\r\n          display: block\r\n          width: 100%\r\n          overflow: hidden\r\n          text-decoration: none\r\n        img\r\n          display: block\r\n          width: 100%\r\n    .dots\r\n      position: absolute\r\n      right: 0\r\n      left: 0\r\n      bottom: 12px\r\n      text-align: center\r\n      font-size: 0\r\n      .dot\r\n        display: inline-block\r\n        margin: 0 4px\r\n        width: 8px\r\n        height: 8px\r\n        border-radius: 50%\r\n        background: $color-text-l\r\n        &.active\r\n          width: 20px\r\n          border-radius: 5px\r\n          background: $color-text-ll\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slider.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slider.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./slider.vue?vue&type=template&id=3dc6b27d&scoped=true&\"\nimport script from \"./slider.vue?vue&type=script&lang=js&\"\nexport * from \"./slider.vue?vue&type=script&lang=js&\"\nimport style0 from \"./slider.vue?vue&type=style&index=0&id=3dc6b27d&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3dc6b27d\",\n  null\n  \n)\n\ncomponent.options.__file = \"slider.vue\"\nexport default component.exports","<template>\n  <div class=\"recommend\" ref=\"recommend\">\n    <scroll ref=\"scroll\" class=\"recommend-content\" :data=\"discList\">\n      <div>\n        <div v-if=\"recommends.length\" class=\"silder-wrapper\">\n          <slider>\n            <div v-for=\"item in recommends\" :key=\"item.id\">\n              <a :href=\"item.linkUrl\">\n                <img @load=\"loadImage\" :src=\"item.picUrl\" alt=\"\">\n              </a>\n            </div>\n          </slider>\n        </div>\n\n        <div class=\"recommend-list\">\n          <h1 class=\"list-title\">热门歌单推荐</h1>\n          <ul>\n            <li @click=\"selectItem(item)\" :key=\"index\" v-for=\"(item, index) in discList\" class=\"item\">\n              <div class=\"icon\">\n                <!-- <img width=\"60\" height=\"60\" :src=\"item.imgurl\"> -->\n                <img width=\"60\" height=\"60\" v-lazy=\"item.imgurl\">\n              </div>\n              <div class=\"text\">\n                <h2 class=\"name\" v-html=\"item.creator.name\"></h2>\n                <p class=\"desc\" v-html=\"item.dissname\"></p>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <div class=\"loading-container\" v-show=\"!discList.length\">\n        <loading title=\"玩命加载中...\"></loading>\n      </div>\n    </scroll>\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\n  import {mapMutations} from 'vuex'\n  import {getRecommend, getDiscList} from '@/api/recommend'  // 数据获取\n  import {ERR_OK} from '@/api/config'           //接口数据获取成功状态返回码\n  import {playlistMixin} from '@/common/js/mixin'\n  import Slider from '@/base/slider/slider'\n  import Scroll from '@/base/scroll/scroll'\n  import Loading from '@/base/loading/loading'\nexport default {\n  name: 'Recommend',\n  components: {\n    Slider,\n    Scroll,\n    Loading,\n  },\n  // mixin 解决scroll 组件滚动问题\n  mixins: [playlistMixin], \n  data() {\n    return {\n      recommends: [],\n      discList: [],\n    }\n  },\n  created() {\n    this._getRecommend();\n    this._getDiscList();\n  },\n  methods: {\n    handlePlaylist(playlist) {  // 只有这里调用了handlePlaylist方法，才不会报错（覆盖了mixin.js里的抛出异常方法）\n      const bottom = playlist.length > 0 ? '60px' : '' // 当存在播放队列\n      this.$refs.recommend.style.bottom = bottom  // 用于处理当底部存在mini播放器时遮挡底部列表的bug\n      this.$refs.scroll.refresh()\n    },\n    _getRecommend() {\n      getRecommend().then((res) => {\n        if (res.code === ERR_OK) {\n          this.recommends = res.data.slider;\n        }\n      })\n    },\n    _getDiscList() {   // 获取热门歌单数据\n      getDiscList().then((res) => {\n        if (res.code === ERR_OK) {\n          this.discList = res.data.list\n        }\n      }, err => {\n        console.log(err);\n      })\n    },\n    loadImage() { // 监听图片加载，当第一张banner图片加载出来时，调用scroll的refresh方法,不然不能保证dom是已经渲染好的（需要计算高度），当数据变化时，需要重新refrash\n      if (!this.checkloaded) {\n        this.checkloaded = true\n        this.$refs.scroll.refresh()\n      }\n    },\n    selectItem(item) {\n      this.$router.push({\n        path: `/recommend/${item.dissid}`\n      })\n      this.setDisc(item)\n    },\n    ...mapMutations({\n      'setDisc': 'SET_DISC',\n    })\n  }\n};\n</script>\n\n<style lang=\"stylus\">\n  @import \"~@/common/stylus/variable\"\n  .recommend\n    position: fixed\n    width: 100%\n    top: 88px\n    bottom: 0\n    .recommend-content\n      height: 100%\n      overflow: hidden\n      .slider-wrapper\n        position: relative\n        width: 100%\n        overflow: hidden\n      .recommend-list\n        .list-title\n          height: 65px\n          line-height: 65px\n          text-align: center\n          font-size: $font-size-medium\n          color: $color-theme\n        .item\n          display: flex\n          box-sizing: border-box\n          align-items: center\n          padding: 0 20px 20px 20px\n          .icon\n            flex: 0 0 60px\n            width: 60px\n            padding-right: 20px\n          .text\n            display: flex\n            flex-direction: column\n            justify-content: center\n            flex: 1\n            line-height: 20px\n            overflow: hidden\n            text-align: left\n            font-size: $font-size-medium\n            .name\n              margin-bottom: 10px\n              color: $color-text\n            .desc\n              color: $color-text-d\n      .loading-container\n        position: absolute\n        width: 100%\n        top: 50%\n        transform: translateY(-50%)\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./recommend.vue?vue&type=template&id=81621d42&\"\nimport script from \"./recommend.vue?vue&type=script&lang=js&\"\nexport * from \"./recommend.vue?vue&type=script&lang=js&\"\nimport style0 from \"./recommend.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"recommend.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slider.vue?vue&type=style&index=0&id=3dc6b27d&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./slider.vue?vue&type=style&index=0&id=3dc6b27d&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend.vue?vue&type=style&index=0&lang=stylus&\""],"sourceRoot":""}