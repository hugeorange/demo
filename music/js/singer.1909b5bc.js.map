{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/components/singer/singer.vue?d612","webpack:///./src/base/listview/listview.vue?f307","webpack:///src/base/listview/listview.vue","webpack:///./src/base/listview/listview.vue?f7c7","webpack:///./src/base/listview/listview.vue","webpack:///src/components/singer/singer.vue","webpack:///./src/components/singer/singer.vue?abae","webpack:///./src/components/singer/singer.vue","webpack:///./src/base/listview/listview.vue?fa83","webpack:///./src/api/singer.js","webpack:///./node_modules/core-js/modules/es6.string.fixed.js","webpack:///./src/components/singer/singer.vue?9813"],"names":["fails","__webpack_require__","module","exports","method","arg","call","$export","defined","quot","createHTML","string","tag","attribute","value","S","String","p1","replace","NAME","exec","O","P","F","test","toLowerCase","split","length","aFunction","toObject","$sort","sort","undefined","comparefn","this","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","data","singers","on","select","selectSinger","staticRenderFns","listviewvue_type_template_id_3df30b04_scoped_true_render","listen-scroll","listenScroll","probe-type","probeType","scroll","_l","group","index","key","refInFor","_v","_s","title","item","click","$event","selectItem","directives","name","rawName","expression","touchstart","stopPropagation","preventDefault","onShortcutTouchStart","touchmove","onShortcutTouchMove","touchend","class","current","currentIndex","data-index","fixedTitle","listviewvue_type_template_id_3df30b04_scoped_true_staticRenderFns","TITLE_HEIGHT","ANCHOR_HEIGHT","listviewvue_type_script_lang_js_","props","type","Array","default","components","Scroll","scroll_scroll","Loading","loading","computed","shortcutList","map","substr","scrollY","diff","created","touch","listHeight","methods","$emit","e","anchorIndex","Object","dom","target","firstTouch","touches","y1","pageY","_scrollTo","y2","delta","parseInt","refresh","$refs","listview","pos","y","_calculateHeight","list","listGroup","height","push","i","clientHeight","scrollToElement","watch","_this","setTimeout","newY","height1","height2","newVal","fixedTop","fixed","style","transform","concat","listview_listviewvue_type_script_lang_js_","component","componentNormalizer","options","__file","HOT_NMAE","HOT_SINGER_LEN","singervue_type_script_lang_js_","ListView","mixins","mixin","_getSingerList","objectSpread","handlePlaylist","playlist","bottom","singer","then","res","code","config","_normalizeSinger","err","console","log","hot","items","forEach","js_singer","Fsinger_name","id","Fsinger_mid","Findex","ret","rest","a","b","charCodeAt","$router","setSinger","vuex_esm","singer_singervue_type_script_lang_js_","singer_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_listview_vue_vue_type_style_index_0_id_3df30b04_scoped_true_lang_stylus_rel_stylesheet_2Fstylus___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_listview_vue_vue_type_style_index_0_id_3df30b04_scoped_true_lang_stylus_rel_stylesheet_2Fstylus___WEBPACK_IMPORTED_MODULE_0___default","n","getSingerList","url","assign","commonParams","channel","page","pagesize","pagenum","hostUin","needNewCode","platform","jsonp","getSingerDetail","singerId","order","begin","num","songstatus","singermid","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_singer_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_11_oneOf_1_0_node_modules_css_loader_index_js_ref_11_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_11_oneOf_1_2_node_modules_stylus_loader_index_js_ref_11_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_singer_vue_vue_type_style_index_0_lang_stylus___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/singer.1909b5bc.js","sourcesContent":["'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"singer\",staticClass:\"singer\"},[_c('list-view',{ref:\"list\",attrs:{\"data\":_vm.singers},on:{\"select\":_vm.selectSinger}}),_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('scroll',{ref:\"listview\",staticClass:\"listview\",attrs:{\"listen-scroll\":_vm.listenScroll,\"probe-type\":_vm.probeType,\"data\":_vm.data},on:{\"scroll\":_vm.scroll}},[_c('ul',_vm._l((_vm.data),function(group,index){return _c('li',{key:index,ref:\"listGroup\",refInFor:true,staticClass:\"list-group\"},[_c('h2',{staticClass:\"list-group-title\"},[_vm._v(_vm._s(group.title))]),_c('ul',_vm._l((group.items),function(item,index){return _c('li',{key:index,staticClass:\"list-group-item\",on:{\"click\":function($event){_vm.selectItem(item)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.avatar),expression:\"item.avatar\"}],staticClass:\"avatar\"}),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(item.name))])])}))])})),_c('div',{staticClass:\"list-shortcut\",on:{\"touchstart\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onShortcutTouchStart($event)},\"touchmove\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.onShortcutTouchMove($event)},\"touchend\":function($event){$event.stopPropagation();}}},[_c('ul',_vm._l((_vm.shortcutList),function(item,index){return _c('li',{key:index,staticClass:\"item\",class:{'current':_vm.currentIndex===index},attrs:{\"data-index\":index}},[_vm._v(_vm._s(item))])}))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fixedTitle),expression:\"fixedTitle\"}],ref:\"fixed\",staticClass:\"list-fixed\"},[_c('div',{staticClass:\"fixed-title\"},[_vm._v(_vm._s(_vm.fixedTitle)+\" \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.data.length),expression:\"!data.length\"}],staticClass:\"loading-container\"},[_c('loading')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<!-- @scroll=\"scroll\" 接收从scroll组件里派发出来的滚动事件 -->\r\n  <scroll @scroll=\"scroll\" \r\n          :listen-scroll=\"listenScroll\" \r\n          :probe-type=\"probeType\"\r\n          :data=\"data\" \r\n          class=\"listview\" \r\n          ref=\"listview\">\r\n    <!-- 歌手列表 -->\r\n    <ul>\r\n      <li v-for=\"(group, index) in data\" :key=\"index\" class=\"list-group\" ref=\"listGroup\">\r\n        <h2 class=\"list-group-title\">{{group.title}}</h2>\r\n        <ul>\r\n          <li @click=\"selectItem(item)\" v-for=\"(item, index) in group.items\" :key=\"index\" class=\"list-group-item\">\r\n            <img class=\"avatar\" v-lazy=\"item.avatar\">\r\n            <span class=\"name\">{{item.name}}</span>\r\n          </li>\r\n        </ul>\r\n      </li>\r\n    </ul>\r\n\r\n    <div class=\"list-shortcut\" \r\n      @touchstart.stop.prevent=\"onShortcutTouchStart\" \r\n      @touchmove.stop.prevent=\"onShortcutTouchMove\"  \r\n      @touchend.stop> <!-- 侧边快速导航 -->\r\n      <ul>\r\n        <li v-for=\"(item, index) in shortcutList\" \r\n          :data-index=\"index\" \r\n          :key=\"index\" \r\n          class=\"item\" \r\n          :class=\"{'current':currentIndex===index}\">{{item}}</li>\r\n      </ul>\r\n    </div>\r\n<!-- 当前悬浮标题 -->\r\n    <div class=\"list-fixed\" ref=\"fixed\" v-show=\"fixedTitle\"> \r\n      <div class=\"fixed-title\">{{fixedTitle}} </div>\r\n    </div>\r\n\r\n    <div v-show=\"!data.length\" class=\"loading-container\">\r\n      <loading></loading>\r\n    </div>\r\n  </scroll>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  import Scroll from '@/base/scroll/scroll'\r\n  import Loading from '@/base/loading/loading'\r\n  import {getData} from '@/common/js/dom'\r\n\r\n  const TITLE_HEIGHT = 30 // 　title高度\r\n  const ANCHOR_HEIGHT = 18  //右侧每个字母锚点的高度(A,B,C,D,E)\r\n\r\n  export default {\r\n    props: {\r\n      data: {\r\n        type: Array,\r\n        default: []\r\n      }\r\n    },\r\n    components: {\r\n      Scroll,\r\n      Loading\r\n    },\r\n    computed: {\r\n      shortcutList() {  // 通过计算属性，运用map方法得到通讯录右侧字母列表［‘热’，A,B,C,D...］\r\n        return this.data.map((group) => {\r\n          return group.title.substr(0, 1)\r\n        })\r\n      },\r\n      fixedTitle() {  // 获取fixed定位元素title值\r\n        if (this.scrollY > 0) { // 已处于最顶部（this.scrollY==0），再往下拉，this.scrollY > 0\r\n          return ''\r\n        }\r\n        return this.data[this.currentIndex] ? this.data[this.currentIndex].title : ''\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        scrollY: -1,\r\n        currentIndex: 0,\r\n        diff: -1  // 该值用来计算title偏移的差值\r\n      }\r\n    },\r\n    created() { // 为什么不把这些放在data中？因为这里不需要观测这些数据的变化\r\n      this.probeType = 3\r\n      this.listenScroll = true  //监听滚动事件，从而获取pos\r\n      this.touch = {}\r\n      this.listHeight = []\r\n    },\r\n    methods: {\r\n      selectItem(item) { // 点击对应歌手\r\n        this.$emit('select', item) // 把事件派发出去(挂载到singer.vue上)\r\n      },\r\n      // 用事件代理的方法触发事件\r\n      onShortcutTouchStart(e) {  // 手指按下触发\r\n        let anchorIndex = getData(e.target, 'index') // 获取当前索引值\r\n        let firstTouch = e.touches[0]  //获取第一个触点         \r\n        this.touch.y1 = firstTouch.pageY  // 页面触点Y坐标\r\n        this.touch.anchorIndex = anchorIndex  // 当前锚点索引\r\n        this._scrollTo(anchorIndex)\r\n      },\r\n      onShortcutTouchMove(e) {     // 滑动时触发\r\n        let firstTouch = e.touches[0]\r\n        this.touch.y2 = firstTouch.pageY\r\n        let delta = (this.touch.y2 - this.touch.y1) / ANCHOR_HEIGHT | 0  // 滑动后所到的锚点位置（|0向下取整 === Math.floor）\r\n        let anchorIndex = parseInt(this.touch.anchorIndex) + delta  //得到滑动后的锚点索引\r\n        this._scrollTo(anchorIndex)\r\n      },\r\n      refresh() {  // 在父组件singer中被调用\r\n        this.$refs.listview.refresh()\r\n      },\r\n      // scroll.vue组件会派发一个scroll事件出来，用于接收滚动的位置，在此做接收( @scroll=\"scroll\" )\r\n      scroll(pos) {\r\n        // 通过scroll事件得到scrollY\r\n        this.scrollY = pos.y \r\n      },\r\n      // 数据初始化时 -- 计算每个group的高度 [0, 760, 1030, ...]\r\n      _calculateHeight() {\r\n        this.listHeight = []\r\n        const list = this.$refs.listGroup\r\n        let height = 0\r\n        this.listHeight.push(height)\r\n        for (let i = 0; i < list.length; i++) {\r\n          let item = list[i]\r\n          height += item.clientHeight\r\n          this.listHeight.push(height)\r\n        }         \r\n      },\r\n      _scrollTo(index) {\r\n        if (!index && index !== 0) { // 解决onShortcutTouchStart点击［‘热’，A,B,C...Z］最上端及底部存在bug(此时返回的index的值是null,需要过滤掉)\r\n          return\r\n        }\r\n        if (index < 0) {  // 滑动到最顶部（超出了字母“热”）\r\n          index = 0\r\n        } else if (index > this.listHeight.length - 2) { // 滑动到最底部 index > 24 - 2 (超出了字母“Z”)\r\n          index = this.listHeight.length - 2\r\n        }\r\n        this.scrollY = -this.listHeight[index]  // 手动设置得到scrollY\r\n        this.$refs.listview.scrollToElement(this.$refs.listGroup[index], 0)  //滚动到指定的目标元素（第二个参数是缓动的动画时间）\r\n      }\r\n    },\r\n    watch: {\r\n      data() {  // 监听数据变化，延时监听歌手列表的高度\r\n        setTimeout(() => {\r\n          this._calculateHeight()\r\n        }, 20)\r\n      },\r\n      scrollY(newY) { // 通过监听scrollY值的变化, 计算出 currentIndex 索引值\r\n        const listHeight = this.listHeight              \r\n        // 当滚动到顶部，newY>0\r\n        if (newY > 0) {\r\n          this.currentIndex = 0\r\n          return\r\n        }\r\n        for (let i = 0; i < listHeight.length - 1; i++) {\r\n          let height1 = listHeight[i]\r\n          let height2 = listHeight[i + 1]          \r\n          if (-newY >= height1 && -newY < height2) {\r\n            this.currentIndex = i\r\n            this.diff = height2 + newY  //差值，用于fixedTitle\r\n            return\r\n          }\r\n        }\r\n        // 当滚动到底部，且-newY大于最后一个元素的上限 (24-2), currentIndex=[0,1,2,3....22]     \r\n        this.currentIndex = listHeight.length - 2\r\n      },\r\n      diff(newVal) {  // 通过diff的变化设置偏移量\r\n        let fixedTop = (newVal > 0 && newVal < TITLE_HEIGHT) ? newVal - TITLE_HEIGHT : 0\r\n        if (this.fixedTop === fixedTop) {\r\n          return\r\n        }\r\n        this.fixedTop = fixedTop\r\n        this.$refs.fixed.style.transform = `translate3d(0,${fixedTop}px,0)`\r\n      }\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\r\n  @import \"~@/common/stylus/variable\"\r\n  .listview\r\n    position: relative\r\n    width: 100%\r\n    height: 100%\r\n    overflow: hidden\r\n    background: $color-background\r\n    .list-group\r\n      padding-bottom: 30px\r\n      .list-group-title\r\n        height: 30px\r\n        line-height: 30px\r\n        padding-left: 20px\r\n        font-size: $font-size-small\r\n        color: $color-text-l\r\n        background: $color-highlight-background\r\n      .list-group-item\r\n        display: flex\r\n        align-items: center\r\n        padding: 20px 0 0 30px\r\n        .avatar\r\n          width: 50px\r\n          height: 50px\r\n          border-radius: 50%\r\n        .name\r\n          margin-left: 20px\r\n          color: $color-text-l\r\n          font-size: $font-size-medium\r\n    .list-shortcut\r\n      position: absolute\r\n      z-index: 30\r\n      right: 0\r\n      top: 50%\r\n      transform: translateY(-50%)\r\n      width: 20px\r\n      padding: 20px 0\r\n      border-radius: 10px\r\n      text-align: center\r\n      background: $color-background-d\r\n      font-family: Helvetica\r\n      .item\r\n        padding: 3px\r\n        line-height: 1\r\n        color: $color-text-l\r\n        font-size: $font-size-small\r\n        &.current\r\n          color: $color-theme\r\n    .list-fixed\r\n      position: absolute\r\n      top: 0\r\n      left: 0\r\n      width: 100%\r\n      .fixed-title\r\n        height: 30px\r\n        line-height: 30px\r\n        padding-left: 20px\r\n        font-size: $font-size-small\r\n        color: $color-text-l\r\n        background: $color-highlight-background\r\n    .loading-container\r\n      position: absolute\r\n      width: 100%\r\n      top: 50%\r\n      transform: translateY(-50%)\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./listview.vue?vue&type=template&id=3df30b04&scoped=true&\"\nimport script from \"./listview.vue?vue&type=script&lang=js&\"\nexport * from \"./listview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./listview.vue?vue&type=style&index=0&id=3df30b04&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3df30b04\",\n  null\n  \n)\n\ncomponent.options.__file = \"listview.vue\"\nexport default component.exports","<template>\n  <div class=\"singer\" ref=\"singer\">\n\t\t<list-view @select=\"selectSinger\" :data=\"singers\" ref=\"list\"></list-view>\n    <!-- <keep-alive> -->\n\t\t  <router-view></router-view>\n    <!-- </keep-alive> -->\n  </div>\n</template>\n\n<script>\nimport {mapMutations} from 'vuex'  // vuex提供的语法糖,对Mutations进行一层封装\n\nimport ListView from '@/base/listview/listview'\nimport {getSingerList} from '@/api/singer';\nimport {ERR_OK} from '@/api/config';\nimport Singer from '@/common/js/singer'; // 此处封装成一个 Singer 类是否有必要？\nimport {playlistMixin} from '@/common/js/mixin'\n\n\nconst HOT_NMAE = \"热门\"\nconst HOT_SINGER_LEN = 10\n\nexport default {\n  name: 'Singer',\n  components: {\n    ListView,\n  },\n  mixins: [playlistMixin],\n  data() {\n    return {\n      singers: [],\n    }\n  },\n  created() {\n    this._getSingerList();\n  },\n  methods: {\n    handlePlaylist(playlist) {  // 只有这里调用了handlePlaylist方法，才不会报错（覆盖了mixin.js里的抛出异常方法）\n      const bottom = playlist.length > 0 ? '60px' : '' // 当存在播放队列\n      this.$refs.singer.style.bottom = bottom  // 用于处理当底部存在mini播放器时遮挡底部列表的bug\n      this.$refs.list.refresh()\n    },\n    _getSingerList() {\n      getSingerList().then(res => {\n        if (res.code === ERR_OK) {\n          this.singers = this._normalizeSinger(res.data.list);\n        }\n      }, err => {\n        console.log(err);\n      })\n    },\n    _normalizeSinger(list) {\n      let map = {\n        hot: {\n          title: HOT_NMAE,\n          items: []\n        }\n      }\n\n      list.forEach((item, index) => {\n        if (index < HOT_SINGER_LEN) {\n          map.hot.items.push(new Singer({\n              name: item.Fsinger_name,\n              id: item.Fsinger_mid            \n          }))\n        }\n\n        let key = item.Findex;\n        if (!map[key]) {\n          map[key] = {\n            title: key,\n            items: []\n          }\n        }\n        map[key].items.push(new Singer({\n          name: item.Fsinger_name,\n          id: item.Fsinger_mid\n        }))\n      });\n      // 拍成数组，变成有序列表\n      let hot = [];\n      let ret = [];\n      let rest = [];\n      for (let key in map) {\n        if (key === 'hot') {\n          hot.push(map[key])\n        } else if (/[a-zA-Z]/.test(key)) {\n          ret.push(map[key]);\n        } else {\n          rest.push(map[key]);\n        }\n      }\n      ret.sort((a, b) => a.title.charCodeAt(0) - b.title.charCodeAt(0))\n      rest.sort((a, b) => a.title - b.title)\n      return [...hot, ...ret, ...rest];\n    },\n    selectSinger(item) {\n      this.$router.push(`/singer/${item.id}`)\n      this.setSinger(item) // 等于执行了mutations.js里的对应方法\n    },\n    // 对象映射(把对mutations的修改映射成一个方法名 setSinger)\n    ...mapMutations({  \n      setSinger: 'SET_SINGER'   \n    })\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n  .singer\n    position: fixed\n    top: 88px\n    bottom: 0\n    width: 100%\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./singer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./singer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./singer.vue?vue&type=template&id=0fb9dd9c&\"\nimport script from \"./singer.vue?vue&type=script&lang=js&\"\nexport * from \"./singer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./singer.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"singer.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listview.vue?vue&type=style&index=0&id=3df30b04&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./listview.vue?vue&type=style&index=0&id=3df30b04&scoped=true&lang=stylus&rel=stylesheet%2Fstylus&\"","import jsonp from '@/common/js/jsonp'\r\nimport {commonParams, options} from './config'\r\n\r\nexport function getSingerList() {\r\n  const url = 'https://c.y.qq.com/v8/fcg-bin/v8.fcg'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    channel: 'singer',\r\n    page: 'list',\r\n    key: 'all_all_all',\r\n    pagesize: 100,\r\n    pagenum: 1,\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    platform: 'yqq'\r\n  })\r\n\r\n  return jsonp(url, data, options)\r\n}\r\n\r\nexport function getSingerDetail(singerId) {\r\n  const url = 'https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg'\r\n\r\n  const data = Object.assign({}, commonParams, {\r\n    hostUin: 0,\r\n    needNewCode: 0,\r\n    platform: 'yqq',\r\n    order: 'listen',\r\n    begin: 0,\r\n    num: 80,\r\n    songstatus: 1,\r\n    singermid: singerId\r\n  })\r\n\r\n  return jsonp(url, data, options)\r\n}\r\n\r\n","'use strict';\n// B.2.3.6 String.prototype.fixed()\nrequire('./_string-html')('fixed', function (createHTML) {\n  return function fixed() {\n    return createHTML(this, 'tt', '', '');\n  };\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./singer.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./singer.vue?vue&type=style&index=0&lang=stylus&\""],"sourceRoot":""}